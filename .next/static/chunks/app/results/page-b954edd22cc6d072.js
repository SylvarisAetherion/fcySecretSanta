(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{9713:function(n,e,t){Promise.resolve().then(t.bind(t,9863))},9376:function(n,e,t){"use strict";var r=t(5475);t.o(r,"useRouter")&&t.d(e,{useRouter:function(){return r.useRouter}})},9863:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return i}});var r=t(7437),a=t(2265),s=t(9376);function i(){let[n,e]=(0,a.useState)([]),[t,i]=(0,a.useState)(-1),[o,l]=(0,a.useState)(!0),[d,c]=(0,a.useState)(!1),[m,f]=(0,a.useState)(null),[u,g]=(0,a.useState)(!0),x=(0,s.useRouter)();(0,a.useEffect)(()=>{let n=localStorage.getItem("secretSantaParticipants"),t="true"===localStorage.getItem("secretSantaRandomMode");if(g(t),!n){x.push("/");return}let r=JSON.parse(n);if(r.length<2){x.push("/");return}let a=[...r],s=!1,o=[],d=0;for(;!s&&d<500;){d++;for(let n=a.length-1;n>0;n--){let e=Math.floor(Math.random()*(n+1));[a[n],a[e]]=[a[e],a[n]]}s=!0,o=[];for(let n=0;n<r.length;n++){if(t&&r[n].giftIndex===a[n].giftIndex||r[n].name===a[n].name){s=!1;break}o.push({giver:r[n].name,receiver:a[n].name,giftNumber:t?a[n].giftIndex:null})}}if(!s){alert("Could not find a valid pairing where no one gets their own gift index. Try adjusting the gift numbers."),x.push("/");return}for(let n=o.length-1;n>0;n--){let e=Math.floor(Math.random()*(n+1));[o[n],o[e]]=[o[e],o[n]]}let m=setTimeout(()=>{e(o),localStorage.setItem("secretSantaFinalPairs",JSON.stringify(o)),l(!1);let n=o[0];if(i(0),t){c(!0);let e=0,t=setInterval(()=>{f(Math.floor(Math.random()*o.length)+1),++e>12&&(clearInterval(t),f(n.giftNumber),c(!1))},60)}else f(null)},1e3);return()=>clearTimeout(m)},[x]);let p=t===n.length-1;return(0,r.jsxs)("main",{children:[(0,r.jsx)("div",{className:"snow-container"}),(0,r.jsx)("h1",{children:"Secret Santa Reveal \uD83C\uDF85"}),o?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,r.jsx)("h2",{style:{animation:"pulse 1.5s infinite"},children:"Preparing the gifts... \uD83C\uDF81✨"}),(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n            @keyframes pulse {\n              0% { opacity: 0.5; }\n              50% { opacity: 1; }\n              100% { opacity: 0.5; }\n            }\n          "}})]}):(0,r.jsxs)("div",{className:"reveal-container",children:[t>=0&&n[t]&&(0,r.jsxs)("div",{className:"pair-card ".concat(d?"shuffling-gift":"fade-in"),children:[u&&(0,r.jsxs)("div",{className:"gift-number ".concat(d?"animating":""),children:["Gift #",m]}),(0,r.jsxs)("div",{className:"names",children:[(0,r.jsxs)("div",{className:"person",children:[(0,r.jsx)("span",{className:"label",children:"Gifter"}),(0,r.jsx)("strong",{className:"name",children:n[t].giver})]}),(0,r.jsx)("div",{className:"arrow",children:"➔"}),(0,r.jsxs)("div",{className:"person",children:[(0,r.jsx)("span",{className:"label",children:"Receiver"}),(0,r.jsx)("strong",{className:"name",children:n[t].receiver})]})]})]}),(0,r.jsx)("div",{className:"controls",children:p?(0,r.jsxs)("div",{className:"end-message",children:[(0,r.jsx)("p",{children:"All gifts have been assigned! \uD83C\uDF85"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center"},children:[(0,r.jsx)("button",{className:"next-btn",onClick:()=>x.push("/summary"),children:"View Final List \uD83D\uDCCB"}),(0,r.jsx)("button",{className:"back-btn",onClick:()=>x.push("/"),children:"⬅️ Start Over"})]})]}):(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center"},children:[(0,r.jsx)("button",{className:"next-btn",onClick:()=>{if(t<n.length-1&&!d){let e=t+1;if(!u){i(e);return}i(e),c(!0);let r=0,a=setInterval(()=>{f(Math.floor(Math.random()*n.length)+1),++r>12&&(clearInterval(a),f(n[e].giftNumber),c(!1))},60)}},disabled:d,children:d?"Choosing... \uD83C\uDFB2":"Next Pair \uD83C\uDF81"}),(0,r.jsx)("button",{className:"reset-btn",onClick:()=>x.push("/"),children:"Reset & Go Back ⬅️"})]})})]}),(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n        .reveal-container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 2rem;\n          margin-top: 2rem;\n        }\n        .pair-card {\n          background: rgba(255, 255, 255, 0.1);\n          padding: 2.5rem;\n          border-radius: 20px;\n          border: 2px solid #ffd700;\n          box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);\n          text-align: center;\n          width: 100%;\n          box-sizing: border-box;\n        }\n        .gift-number {\n          font-size: 1.5rem;\n          color: #ffd700;\n          margin-bottom: 1.5rem;\n          font-weight: bold;\n          text-transform: uppercase;\n        }\n        .names {\n          display: flex;\n          justify-content: space-around;\n          align-items: center;\n          gap: 1rem;\n        }\n        @media (max-width: 600px) {\n          .names {\n            flex-direction: column;\n            gap: 1.5rem;\n          }\n          .arrow {\n            transform: rotate(90deg);\n          }\n          .name {\n            font-size: 1.5rem;\n          }\n          .pair-card {\n            padding: 1.5rem;\n          }\n        }\n        .person {\n          display: flex;\n          flex-direction: column;\n          word-break: break-word;\n          max-width: 100%;\n        }\n        .label {\n          font-size: 0.8rem;\n          text-transform: uppercase;\n          opacity: 0.8;\n          margin-bottom: 0.5rem;\n        }\n        .name {\n          font-size: 1.8rem;\n          color: #fff;\n        }\n        .arrow {\n          font-size: 2rem;\n          color: #ff4d4d;\n        }\n        .controls {\n          margin-top: 1rem;\n        }\n        .next-btn {\n          background: #ff4d4d;\n          color: white;\n          border: none;\n          padding: 1rem 2.5rem;\n          border-radius: 50px;\n          font-size: 1.2rem;\n          cursor: pointer;\n          transition: transform 0.2s, background 0.2s;\n          box-shadow: 0 4px 15px rgba(255, 77, 77, 0.4);\n        }\n        .next-btn:hover {\n          background: #ff3333;\n          transform: scale(1.05);\n        }\n        .reset-btn {\n          background: transparent;\n          color: #f8e3a1;\n          border: 1px solid #f8e3a1;\n          padding: 0.5rem 1.5rem;\n          border-radius: 50px;\n          font-size: 0.9rem;\n          cursor: pointer;\n          transition: opacity 0.2s;\n          margin-top: 0.5rem;\n        }\n        .reset-btn:hover {\n          opacity: 0.8;\n          background: rgba(248, 227, 161, 0.1);\n        }\n        .end-message {\n          text-align: center;\n        }\n        .next-btn:disabled {\n          background: #ccc;\n          cursor: not-allowed;\n          transform: none;\n          box-shadow: none;\n        }\n        .shuffling-gift {\n          border-color: #ffd700;\n          box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);\n        }\n        .gift-number.animating {\n          animation: shake 0.1s infinite;\n          color: #ff4d4d;\n        }\n        @keyframes shake {\n          0% { transform: translate(1px, 1px) rotate(0deg); }\n          25% { transform: translate(-1px, -1px) rotate(-1deg); }\n          50% { transform: translate(-1px, 1px) rotate(1deg); }\n          75% { transform: translate(1px, -1px) rotate(0deg); }\n          100% { transform: translate(1px, 1px) rotate(1deg); }\n        }\n        .fade-in {\n          animation: fadeIn 0.5s ease-out forwards;\n        }\n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      "}})]})}}},function(n){n.O(0,[971,117,744],function(){return n(n.s=9713)}),_N_E=n.O()}]);